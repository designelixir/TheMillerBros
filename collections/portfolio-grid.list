<div class="portfolio-grid">
{.repeated section items}

{#  Click Video in Grid, Open Video  }
<div class="portfolio-item-window fade-in" id="portfolio-{id}">
    <span class="portfolio-nav texture">
        <span class="portfolio-nav-title">
            <h1>{title}</h1>
            <h4 style="color: white;">{body}</h4>
        </span>
        <span class="portfolio-nav-controls">
            <button id="toggle-fullscreen-{id}" class="expand-button" aria-label="Toggle Full Screen Video Window"></button>
            <button class="circle-button-blue" id="toggle-close-{id}" aria-label="Close Portfolio Video Window"></button>
        </span>
    </span>
    
    <div class="fullcut-iframe-container">
        <div class="fullcut-iframe-wrapper" style="padding:56.25% 0 0 0; position:relative; overflow-y: hidden; backdrop-filter: blur(10px); height: 100%; ">
            <iframe id="fullcut-iframe" class="case-study-iframe" src="https://player.vimeo.com/video/{customContent.vimeocode}?h=5d02ec9719&title=0&byline=0&portrait=0" style="position:absolute;top:0;left:0; bottom: 0; right: 0; width:100%; height: 100%;  overflow-y: hidden; max-width: 1700px; max-height: 950px;" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

{#  individual grid item  }
  <div id="post-{id}" class="portfolio-item tilt-in-tl" data-item-id="{id}" style="background-image: url('{structuredContent.oembed.thumbnailUrl}?format=original'); ">
    <div class="portfolio-item-title">
        <h3 class="title" data-content-field="title">{title}</h3>
    </div>
  </div>

<script> 

$('.portfolio-item-title').hover(
    function(){
    $(this).css({"transform":"scale(1.1)", "font-weight":"500!important", "backdrop-filter":"blur(4px)", "background-color": "rgba(0,0,0,0.35)"})
}, function(){
    $(this).css({"transform":"scale(1)", "font-weight":"300", "backdrop-filter":"blur(0px)", "background-color": "rgba(0,0,0,0.5)"})
})


$('.expand-button', this).click(function() {
    let elem = document.getElementById("fullcut-iframe");
    elem.requestFullscreen()
})
    
//open fullscreen window
$('#post-{id}').bind('click', function(){
    $('#portfolio-{id}').css('display', 'block');
    $('html').css("overflow", "hidden");
})
//close fullscreen window
$('#toggle-close-{id}').bind('click', function(){
    $('html').css("overflow", "scroll");
    $('#portfolio-{id} #fullcut-iframe').attr("src", $('#portfolio-{id} #fullcut-iframe').attr("src"));
    $('#portfolio-{id}').css('display', 'none');
})


</script>

{.or}

<p style="color: white;">:-( no videos.</p>

{.end}
</div>
