<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="stylesheet" href="https://use.typekit.net/ctq0biw.css">
    <link rel="stylesheet" href="styles/case-study.less">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    {squarespace-headers}
  </head>
    <body id="{squarespace.page-id}" class="{squarespace.page-classes}">
        <header class="site-header">
            <squarespace:navigation navigationId="siteNav" template="site-navigation" />
        </header>

     

   
    <section id="featured-projects">
        <div id="slide-container">
        {.repeated section items}
            <div class="slide">
                <div class="project">
                    <div class="project-wrapper">
                        <div class="vimeo-bg-wrapper" style="background-image: url('{structuredContent.oembed.thumbnailUrl}?format=original');" >
                            <iframe class="vimeo-bg-iframe" src='https://player.vimeo.com/video/{customContent.vimeocode}?background=1&autoplay=1&loop=1&byline=0&title=0' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
                        </div>

                        <div class="title-container">
                        {#  LINKED SLIDERS  }
                        {.equal? customContent.customType "LinkedSlider"} 
                                <a href='{customContent.clickthru}' class="title-wrapper" style="text-decoration: none; height: 100%; padding-left: 25px;">
                                    <div id="linked-slider-wrapper">
                                        <h6 class="link-title blue-text-shadow">{title}</h6>
                                        <img src="assets/shapes/blue-textured-line.svg" style=" margin: 5px 0px 50px -15px; height: 5px;" />
                                    </div>
                                </a>
                            {.or}
                            {#  PROJECT SLIDERS}
                            
                            <div class="title-wrapper toggle-case-study">
                                <div class="summary-title">
                                    <div class="summary-title-button-wrapper drop-shadow">
                                        <div class="title-brand-wrapper" >
                                            <div class="project-button">
                                                <span>
                                                <h1 class="project-title gold-text-shadow">{title}</h1>
                                                <h6 class="project-brand">{customContent.brand}</h6>
                                                </span>
                                                 <div class="project-button-circle">
                                                    case study
                                                </div>
                                            </div>
                                        </div>
                                    </div>             
                                </div>
                            </div>
                            {.end}
                        </div>
                    </div>
                </div>
            </div>
                {#  CASE STUDY WINDOWS  }
                {.equal? customContent.customType "Project"} 
                
                    <div class="case-study-window texture" style="display: none; position: absolute; top: 0; left: 0; z-index: 9999999; height: 100vh; width: 100vw;">
                        <div class="project-case-study-wrapper">
                        <div class="project-top-wrapper" style="max-height: 90vh; border: 3px solid orange;">
                            {#  project navigation  }
                            <div class="case-study-nav inset-box-shadow">
                                <span>               
                                    <img src="../assets/Miller-Bros-Lettermark-White.svg" alt="Miller Bros Lettermark Logo" />
                                </span>
                                <span style="justify-content: flex-end;">
                                    <button id="toggle-fullscreen-{id}" class="expand-button hover-indication" aria-label="Toggle Full Screen Video Window"></button>
                                    <button class="circle-button-blue toggle-case-study" id="toggle-close-{id}" aria-label="Close Portfolio Video Window"></button>
                                </span>
                            </div>

                            {#  iframe  }
                            <div class="fullcut-iframe-container" style="background-image: url('{structuredContent.oembed.thumbnailUrl}?format=original');">
                                <div class="fullcut-iframe-wrapper" style="padding:56.25% 0 0 0; position:relative; overflow-y: hidden; ">
                                    <iframe id="fullcut-iframe" class="case-study-iframe" src="https://player.vimeo.com/video/{customContent.vimeocode}?h=5d02ec9719&title=0&byline=0&portrait=0" style="position:absolute;top:0;left:0;width:100%; height: 100%;  overflow-y: hidden; max-width: 1700px; max-height: 950px;" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                                </div>
                            </div>
                        
                            
                        </div>
                        <div class="texture fade-in inset-box-shadow" id="titlelogo" style=" display: inline-flex; align-items: center; justify-content: space-between; width: 100%;">
                            <div style="width: calc(100% - 175px); padding: 25px 50px;">
                                <h1>{title}</h1>
                            </div>
                            {.if customContent.brandlogo}
                            <div id="brand-logo" class="hoverthis drop-shadow" style=" width: 200px; display: flex; justify-content: flex-end; align-items: flex-end;">
                            <a href="{customContent.brandurl}" target="_blank" style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                                <img src="{customContent.brandlogo.assetUrl}" style="width: 75%; max-width: 150px;"/>
                            </a>
                            </div>
                            {.end}
                        </div>
                        <div class="case-study-section tan-texture">
                                <div id="summary" style="width: 60%; margin-left: 25px;">
                                    <p>{body}</p>
                                    {.if customContent.testimonial}
                                    <div class="tan-texture" style="padding: 0 25px;">
                                        <div style="width: 100%; display: inline-flex; align-items: flex-start; justify-content: space-evenly; text-align: center;">
                                        <h1 style="font-size: 100px; color: #C5843D">"</h1>
                                        <span class="case-study-testimonial">
                                            <span id="testimonial">
                                                <p>{customContent.testimonial}</p>
                                            </span>
                                            <h5>-{customContent.testimonial-name}</h5>
                                        </span>
                                        <h1 style="font-size: 100px; color: #C5843D">"</h1>
                                        </div>
                                    </div>
                                    {.end}
                                </div>

                                <div id="credits" style="width: 40%;  padding-left: 50px;">
                                    <h6 class="yellow-line" style="color: black; font-size: 48px; max-width: 500px;">Credits </h6>
                                    <p class="credit-name">{customContent.credits.html}</p>
                                </div>
                            </div>
                            
                            {.if customContent.additionalvideo1}
                            <div class="case-study-section tan-texture" id="additional-videos" style=" width: 100%; padding: 0px 25px; align-items: flex-end;">
                                
                                <div class="extra-video">
                                <h6 class="yellow-line" style="color: black; font-size: 48px; max-width: 500px;">Additional Videos </h6>
                                <br>
                                    <div style="padding:56.25% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/{customContent.additional-video1}?h=a80429b32e&title=0&byline=0&portrait=0" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                                    </div>
                                </div>
                                {.if customContent.additionalvideo2}
                                    <div class="extra-video">
                                        <div style="padding:56.25% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/{customContent.additional-video2}?h=a80429b32e&title=0&byline=0&portrait=0" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                                        </div>
                                    </div>
                                {.end}
                            </div>
                            {.end}
                            {#  BEHIND THE SCENES  }
                            <div id="bts" class="inset-box-shadow">
                                <h6 style="text-align: center;"> Behind the Scenes </h6>

                                <div id="bts-photos-grid">
                                    {.repeated section customContent.behindthescenes}
                                        <img class="bts-img" src="{assetUrl}"/>
                                    {.end}
                                </div>
                                <span style="display: flex; align-items: center; justify-content: center; padding: 50px; color: white;">
                                    <button class="circle-button-blue toggle-case-study" id="toggle-close-{id}" style="width: 100%;" aria-label="Close Portfolio Video Window"></button>
                                </span>
                            </div> 


                            
                                
                        </div>
                    </div>
                
                {.end}
            {.end}

            <div id="project-counter">
                <a onclick="(goToSlider(data))" class="counter"></a>
            </div>
           
        </div>
        <div id="next-slide">
            <img id="slide-arrow" src="../assets/nav-arrow.svg" alt="next slide arrow" />
        </div>
    </section>
    <section class="texture inset-box-shadow">
      <div style="width: 100%; height: 50px; text-align: center; color: white;">
        <img id="scroll-down-arrow" src="../assets/nav-arrow.svg" alt="next slide arrow" />
      </div>

      <div class="container-holder" >
        <div class="container-half tan-smudge" id="left-container" style=" border: 2px solid magenta; z-index: 9; padding: 50px;">
            <h6 id="contact-title-1"> A Lifetime of </h6><h6 id="contact-title-2"> Partnership</h6>
            <img class="drop-shadow" src="assets/shapes/yellow-textured-line.svg"/>
            <br>
            <squarespace:block-field id="homepage-about-text" columns="1"/>
        </div>
        <div class="container-half" style=" border: 3px solid orange; margin-left: -25%;">
          <squarespace:block-field id="homepage-about-image" columns="1"/>
        </div>


      </div>
      
    </section>
    <main class="content-container texture" id="homepage-content" role="main" data-content-field="main-content" >
       {squarespace.main-content}
    </main>


   
    <squarespace:navigation navigationId="footerNav" template="footer" />
    <!-- combo and minify scripts when not logged in -->
    <squarespace:script src="site.js" combo="{.if authenticatedAccount}false{.or}true{.end}" />
    <!-- other scripts, and footer code injection -->
    {squarespace-footers}

  </body>
</html>
<script>



var allSlides = document.getElementsByClassName('project');
var active = 0;
var counter = allSlides.length;
var travelingbutton = document.querySelector("#traveling-button");
var followMouseBool = false;
{#  var divRect = document.getElementById('salmon').getBoundingClientRect();  }
{#  var small = document.getElementById('orange');
var big = document.getElementById('salmon'); 
var smallRect = small.getBoundingClientRect();
var bigRect = big.getBoundingClientRect();
var itemRect = travelingbutton.getBoundingClientRect();  }


{#  THINGS THAT HAPPEN WHEN PAGE LOADS  }
window.addEventListener('DOMContentLoaded', (event) => {
      $('.counter:eq('+active+')').css("background-image", "url(assets/shapes/yellow-textured-circle.svg)") 
      
});




for (let i = 1; i < counter; i++) {$("#project-counter").append($(".counter").last().clone(true));}
var cls = document.getElementsByClassName("counter"); 
for (n=0, length = cls.length; n < length; n++) {cls[n].data = n ; }






function goToSlider(active){
  var activate = allSlides[active];
  activate.scrollIntoView();
  for (let i = 0; i < counter; i++) {
      $('.counter').css("background-image", "url(assets/shapes/tan-textured-circle.svg)")  
  }$('.counter:eq('+active+')').css("background-image", "url(assets/shapes/yellow-textured-circle.svg)")  

} 

 var autoPlayTimer = setInterval(function() {
      if(active >= counter - 1){active = 0;} 
      else {active = active + 1;}
      goToSlider(active)
  }, 10000);

$('#next-slide').click(function() {
      if(active >= counter - 1){active = 0;} 
      else {active = active + 1;}
      goToSlider(active);
      clearInterval(autoPlayTimer);
  });

$('.toggle-case-study').click(function(){
    $('body').css("overflow", "hidden")
  clearInterval(autoPlayTimer);
  var count = $('.toggle-case-study').data("count") || 0;
  $('.toggle-case-study').data("count", ++count);
  if ((count % 2) != 0 ){
    $('.case-study-window:eq('+active+')').slideUp(500);
  } else {
    $('.case-study-window:eq('+active+')').slideDown(500);
    $('.case-study-iframe:eq('+active+')').attr("src", $('.case-study-iframe:eq('+active+')').attr("src"));
    $('.additional-video-iframe-one:eq('+active+')').attr("src", $('.additional-video-iframe-one:eq('+active+')').attr("src"));
    $('.additional-video-iframe-two:eq('+active+')').attr("src", $('.additional-video-iframe-two:eq('+active+')').attr("src"));
  }
});


$(window).scroll(function(){
    clearInterval(autoPlayTimer);
});


</script>